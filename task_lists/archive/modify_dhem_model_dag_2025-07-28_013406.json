{
  "user_input": "Modify the DHEM model.\n  o\tGet the datafile attribute for the Gas Pipeline Capacity data file for the PCIPMI infrastrucutre level (use crud pipeline)\n  o\tCreate a variation of the Gas Pipeline Capacity data file for the PCIPMI infrastrucutre level by setting all values that aren't 0 to 999. Copy the H2\\Gas.\n  o\tCreate a new datafile object in the Datafile class using the Gas Pipeline category call it something relating to PCIPMI capacities Unlimited. Add the filename property with the name of the datafile just created.\n  o\tAdd a scenario called unlimited_pci_pmi_pipeline_capacities\n  o\tAdd a max flow property to each object in the H2 inteconnection and H2 Internal bottleneck categories in the gas pipeline class, with the datafile and scenario created in the previous step. Use the crud pipeline\n  o\tClone the model \"DHEM_v41_2030_PCIPMI_1995\" and add the new scenario. Call the model \u201cDHEM_v41_2030_PCIPMI_1995_unlmtd_pipeline\u201d",
  "author": "Dante",
  "tags": [
    "DHEM",
    "modify",
    "pipeline",
    "crud",
    "clone"
  ],
  "date_created": "2025-07-28",
  "time_created": "01:34:23",
  "retry_policy": {
    "count": 1,
    "strategy": "fixed"
  },
  "default_llm_context": "Perform the specified operation based on the user's input and the Terajoule Model specifications.",
  "tasks": [
    {
      "task_name": "perform_crud_operation",
      "pipeline_name": "crud_pipeline.json",
      "description": "Retrieve the datafile attribute for the Gas Pipeline Capacity data file for the PCIPMI infrastructure level using the crud pipeline.",
      "target_level": "attribute",
      "strategy_action": "read",
      "entity_selection_context": "Based on the user's request: 'Modify the DHEM model.' select the appropriate datafile attribute from the available options.",
      "on_error": "abort"
    },
    {
      "task_name": "modify_data_file",
      "function_name": "modify_data_file",
      "description": "Create a variation of the Gas Pipeline Capacity data file by setting all values that aren't 0 to 999, copying from H2\\Gas.",
      "target_level": "file",
      "strategy_action": "update",
      "entity_selection_context": "Based on the user's request: 'Modify the DHEM model.' modify the data file accordingly.",
      "on_error": "log_and_continue",
      "function_args": {
        "plexos_model_location": "path_to_model",
        "input_file_path": "H2\\Gas Pipeline\\Capacities_H2_Year_FID+PCI+PMI.csv",
        "user_input": "set all non-zero values to 999",
        "output_file_path": "H2\\Gas Pipeline\\Capacities_H2_Year_FID+PCI+PMI_UNLIMITED.csv"
      },
      "function_kwargs": {}
    },
    {
      "task_name": "add_object_new_datafile",
      "pipeline_name": "crud_pipeline.json",
      "description": "Create a new datafile object in the Datafile class under the Gas Pipeline category with a name related to PCIPMI capacities Unlimited.",
      "target_level": "object",
      "strategy_action": "create",
      "entity_selection_context": "Based on the user's request: 'Modify the DHEM model.' select the appropriate object for datafile creation.",
      "on_error": "abort"
    },
    {
      "task_name": "update_datafile_properties",
      "function_name": "update_properties_with_grouped_llm",
      "description": "Add the filename property to the new datafile object with the name of the newly created variation.",
      "target_level": "property",
      "strategy_action": "update",
      "entity_selection_context": "Based on the user's request: 'Modify the DHEM model.' update the datafile object with the filename property.",
      "on_error": "abort"
    },
    {
      "task_name": "add_scenario_object",
      "pipeline_name": "crud_pipeline.json",
      "description": "Add a new scenario object called 'unlimited_pci_pmi_pipeline_capacities' using the crud pipeline.",
      "target_level": "object",
      "strategy_action": "create",
      "entity_selection_context": "Based on the user's request: 'Modify the DHEM model.' select the appropriate scenario object.",
      "on_error": "abort"
    },
    {
      "task_name": "update_gas_pipeline_max_flow_properties",
      "function_name": "update_properties_with_grouped_llm",
      "description": "For each object in the H2 interconnection and H2 Internal bottleneck categories in the Gas Pipeline class, add a max flow property that references the datafile and scenario created.",
      "target_level": "property",
      "strategy_action": "update",
      "entity_selection_context": "Based on the user's request: 'Modify the DHEM model.' update the properties for the relevant Gas Pipeline objects.",
      "on_error": "abort"
    },
    {
      "task_name": "clone_model_with_new_scenario",
      "pipeline_name": "clone_pipeline.json",
      "description": "Clone the model 'DHEM_v41_2030_PCIPMI_1995' and integrate the new scenario, then name the cloned model 'DHEM_v41_2030_PCIPMI_1995_unlmtd_pipeline'.",
      "target_level": "object",
      "strategy_action": "clone",
      "entity_selection_context": "Based on the user's request: 'Modify the DHEM model.' select the model cloning option.",
      "on_error": "abort"
    }
  ]
}